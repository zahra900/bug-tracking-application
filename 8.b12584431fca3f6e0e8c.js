(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{AkKA:function(t,e,i){"use strict";i.r(e),i.d(e,"TicketsModule",(function(){return V}));var r=i("ofXK"),c=i("tyNb"),n=i("fXoL");let s=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Jb({type:t,selectors:[["app-tickets"]],decls:1,vars:0,template:function(t,e){1&t&&n.Qb(0,"router-outlet")},directives:[c.f],styles:[""]}),t})();var o=i("mrSG"),b=i("tk/3"),a=i("AytR");let u=(()=>{class t{constructor(t){this.http=t}getTickets(){return this.http.get(a.a.apiUrl+"bugs")}createTicket(t){return this.http.post(a.a.apiUrl+"bugs/bug",t)}deleteTicket(t){return this.http.delete(a.a.apiUrl+"bugs/bug/"+t)}getPageTicket(t,e){let i=new b.e;return i=i.set("page",t.toString()),i=i.set("size",e.toString()),this.http.get(a.a.apiUrl+"bugs/page",{params:i})}getTicket(t){return this.http.get(a.a.apiUrl+"bugs/bug/"+t)}updateTicket(t){return this.http.put(a.a.apiUrl+"bugs/bug/",t)}getPageTicketByword(t,e,i){let r=new b.e;return r=r.set("page",t.toString()),r=r.set("size",e.toString()),this.http.get(a.a.apiUrl+"bugs/"+i,{params:r})}addComment(t){return this.http.post(a.a.apiUrl+"comments/comment/",t)}getComment(t){return this.http.get(a.a.apiUrl+"comments/comment/"+t)}getCommentList(){return this.http.get(a.a.apiUrl+"comments")}deleteComment(t){return this.http.delete(a.a.apiUrl+"comments/comment/"+t)}uploadFile(t){return Object(o.a)(this,void 0,void 0,(function*(){return yield this.http.post(a.a.apiUrl+"file/upload/",t).toPromise()}))}}return t.\u0275fac=function(e){return new(e||t)(n.Yb(b.b))},t.\u0275prov=n.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var l=i("3Pt+");function d(t,e){if(1&t){const t=n.Vb();n.Ub(0,"tr"),n.Ub(1,"td",9),n.rc(2),n.Tb(),n.Ub(3,"td"),n.rc(4),n.Tb(),n.Ub(5,"td"),n.rc(6),n.Tb(),n.Ub(7,"td"),n.rc(8),n.Tb(),n.Ub(9,"td"),n.rc(10),n.Tb(),n.Ub(11,"td"),n.rc(12),n.Tb(),n.Ub(13,"td"),n.rc(14),n.Tb(),n.Ub(15,"td"),n.rc(16),n.gc(17,"date"),n.Tb(),n.Ub(18,"td"),n.rc(19),n.Tb(),n.Ub(20,"td"),n.Ub(21,"div",15),n.Ub(22,"a",16),n.bc("click",(function(){n.nc(t);const i=e.$implicit;return n.fc().editTicket(i)})),n.ec(),n.Ub(23,"svg",17),n.Qb(24,"path",18),n.Tb(),n.Tb(),n.dc(),n.Ub(25,"a",16),n.bc("click",(function(){n.nc(t);const i=e.$implicit;return n.fc().ticketDetails(i)})),n.ec(),n.Ub(26,"svg",19),n.Qb(27,"path",20),n.Qb(28,"path",21),n.Tb(),n.Tb(),n.dc(),n.Ub(29,"a",16),n.bc("click",(function(){n.nc(t);const i=e.$implicit;return n.fc().deleteTicket(i)})),n.ec(),n.Ub(30,"svg",22),n.Qb(31,"path",23),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Tb()}if(2&t){const t=e.$implicit,i=e.index;n.Fb(2),n.sc(i),n.Fb(2),n.sc(t.title),n.Fb(2),n.sc(t.project.projectName),n.Fb(2),n.sc(t.bugDescription),n.Fb(2),n.sc(t.assignee.username),n.Fb(2),n.sc(t.status),n.Fb(2),n.sc(t.priority),n.Fb(2),n.sc(n.ic(17,9,t.createdDate,"dd/MM/yyyy")),n.Fb(3),n.sc(t.resolutionSummary)}}const g=function(t){return{"background-color":t}};function p(t,e){if(1&t){const t=n.Vb();n.Ub(0,"li",24),n.bc("click",(function(){n.nc(t);const i=e.$implicit;return n.fc().changeState(i)})),n.Ub(1,"a",25),n.bc("click",(function(){n.nc(t);const i=e.$implicit;return n.fc().getPaginationWithIndex(i)})),n.rc(2),n.Tb(),n.Tb()}if(2&t){const t=e.$implicit,i=n.fc();n.Fb(1),n.jc("ngStyle",n.kc(2,g,i.clickedIndex===t?"rgb(192,192,192)":"")),n.Fb(1),n.tc(" ",t+1," ")}}let h=(()=>{class t{constructor(t,e,i){this.ticketService=t,this.router=e,this.route=i,this.tickets=[],this.totalPages=0,this.currentSelectedPage=0,this.pageIndexes=[],this.clickedIndex=0,this.pageSize=3,this.searchText=""}ngOnInit(){this.getPageTicket(this.currentSelectedPage,this.pageSize)}getPageTicket(t,e){this.ticketService.getPageTicket(t,e).subscribe(t=>{this.tickets=t.content,this.totalPages=t.totalPages,this.currentSelectedPage=t.number,this.pageIndexes=Array(this.totalPages).fill(0).map((t,e)=>e)},t=>{})}getAllTickets(){this.ticketService.getTickets().subscribe(t=>{this.tickets=t})}addTicket(){this.router.navigate(["new"],{relativeTo:this.route})}deleteTicket(t){this.ticketService.deleteTicket(t.id).subscribe(t=>{this.tickets=this.tickets.filter(t=>{})},t=>{})}editTicket(t){this.router.navigate([t.id,"edit"],{relativeTo:this.route})}ticketDetails(t){this.router.navigate([t.id],{relativeTo:this.route})}nextClick(){this.currentSelectedPage<this.totalPages-1&&this.getPageTicket(++this.currentSelectedPage,this.pageSize)}previousClick(){this.currentSelectedPage>0&&this.getPageTicket(--this.currentSelectedPage,this.pageSize)}getPaginationWithIndex(t){this.getPageTicket(t,2)}changeState(t){this.clickedIndex=t}somethingChanged(t){""!=this.searchText?this.ticketService.getPageTicketByword(this.currentSelectedPage,this.pageSize,this.searchText).subscribe(t=>{this.tickets=t.content}):this.getPageTicket(this.currentSelectedPage,this.pageSize)}}return t.\u0275fac=function(e){return new(e||t)(n.Pb(u),n.Pb(c.b),n.Pb(c.a))},t.\u0275cmp=n.Jb({type:t,selectors:[["app-ticket-list"]],decls:43,vars:3,consts:[[1,"container"],[1,"btn","btn-danger","btn-primary-spacing",3,"click"],[1,"btn-primary-spacing"],[1,"input-group","md-form","form-sm","form-2","pl-0"],["type","text","placeholder","Search","aria-label","Search",1,"form-control","my-0","py-1",3,"ngModel","ngModelChange"],[1,"input-group-append"],["id","basic-text1",1,"input-group-text","red","lighten-3"],[1,"fa","fa-search"],[1,"table","table-bordered"],[1,"hidden"],[4,"ngFor","ngForOf"],[1,"pagination"],[1,"page-item"],[1,"page-link",3,"click"],["class","page-item",3,"click",4,"ngFor","ngForOf"],[1,"row"],[1,"btn",3,"click"],["width","1em","height","1em","viewBox","0 0 16 16","fill","currentColor","xmlns","http://www.w3.org/2000/svg",1,"bi","bi-pencil"],["fill-rule","evenodd","d","M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5L13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175l-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"],["width","1em","height","1em","viewBox","0 0 16 16","fill","currentColor","xmlns","http://www.w3.org/2000/svg",1,"bi","bi-card-text"],["fill-rule","evenodd","d","M14.5 3h-13a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h13a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5zm-13-1A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-13z"],["fill-rule","evenodd","d","M3 5.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zM3 8a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9A.5.5 0 0 1 3 8zm0 2.5a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5z"],["width","1em","height","1em","viewBox","0 0 16 16","fill","currentColor","xmlns","http://www.w3.org/2000/svg",1,"bi","bi-trash-fill"],["fill-rule","evenodd","d","M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5a.5.5 0 0 0-1 0v7a.5.5 0 0 0 1 0v-7z"],[1,"page-item",3,"click"],[1,"page-link",3,"ngStyle","click"]],template:function(t,e){1&t&&(n.Ub(0,"div",0),n.Ub(1,"button",1),n.bc("click",(function(){return e.addTicket()})),n.rc(2,"Add Ticket"),n.Tb(),n.Ub(3,"h4",2),n.rc(4," Tickets List"),n.Tb(),n.Ub(5,"div",3),n.Ub(6,"input",4),n.bc("ngModelChange",(function(t){return e.searchText=t}))("ngModelChange",(function(t){return e.somethingChanged(t)})),n.Tb(),n.Ub(7,"div",5),n.Ub(8,"span",6),n.Qb(9,"i",7),n.Tb(),n.Tb(),n.Tb(),n.Ub(10,"table",8),n.Ub(11,"thead"),n.Ub(12,"tr"),n.Ub(13,"th",9),n.rc(14,"Id"),n.Tb(),n.Ub(15,"th"),n.rc(16,"Title"),n.Tb(),n.Ub(17,"th"),n.rc(18,"project"),n.Tb(),n.Ub(19,"th"),n.rc(20,"Description"),n.Tb(),n.Ub(21,"th"),n.rc(22,"assignedTo"),n.Tb(),n.Ub(23,"th"),n.rc(24,"status"),n.Tb(),n.Ub(25,"th"),n.rc(26,"priority"),n.Tb(),n.Ub(27,"th"),n.rc(28,"createdDate"),n.Tb(),n.Ub(29,"th"),n.rc(30,"resolutionSummary"),n.Tb(),n.Ub(31,"th"),n.rc(32,"actions"),n.Tb(),n.Tb(),n.Tb(),n.Ub(33,"tbody"),n.qc(34,d,32,12,"tr",10),n.Tb(),n.Tb(),n.Ub(35,"ul",11),n.Ub(36,"li",12),n.Ub(37,"a",13),n.bc("click",(function(){return e.previousClick()})),n.rc(38,"Previous"),n.Tb(),n.Tb(),n.qc(39,p,3,4,"li",14),n.Ub(40,"li",12),n.Ub(41,"a",13),n.bc("click",(function(){return e.nextClick()})),n.rc(42,"Next"),n.Tb(),n.Tb(),n.Tb(),n.Tb()),2&t&&(n.Fb(6),n.jc("ngModel",e.searchText),n.Fb(28),n.jc("ngForOf",e.tickets),n.Fb(5),n.jc("ngForOf",e.pageIndexes))},directives:[l.a,l.k,l.m,r.k,r.m],pipes:[r.d],styles:[".btn-primary-spacing[_ngcontent-%COMP%]{margin-right:5px;margin-bottom:10px!important;margin-top:10px}.pagination[_ngcontent-%COMP%]{display:flex;justify-content:center}.btn-primary-spacing[_ngcontent-%COMP%]{margin-top:30px;width:150px}.input-group[_ngcontent-%COMP%]{margin-bottom:10px}"]}),t})();var m=i("qCZ/"),f=i("DXCi");function T(t,e){1&t&&(n.Ub(0,"div"),n.rc(1,"filling title is required!"),n.Tb())}function U(t,e){if(1&t&&(n.Ub(0,"div",26),n.qc(1,T,2,0,"div",27),n.Tb()),2&t){const t=n.fc();n.Fb(1),n.jc("ngIf",t.title.errors.required)}}function v(t,e){if(1&t&&(n.Ub(0,"option",28),n.rc(1),n.Tb()),2&t){const t=e.$implicit;n.jc("ngValue",t.value),n.Fb(1),n.sc(t.name)}}function k(t,e){1&t&&(n.Ub(0,"div"),n.rc(1,"filling status is required!"),n.Tb())}function y(t,e){if(1&t&&(n.Ub(0,"div",26),n.qc(1,k,2,0,"div",27),n.Tb()),2&t){const t=n.fc();n.Fb(1),n.jc("ngIf",t.status.errors.required)}}function F(t,e){if(1&t&&(n.Ub(0,"option",28),n.rc(1),n.Tb()),2&t){const t=e.$implicit;n.jc("ngValue",t.value),n.Fb(1),n.sc(t.name)}}function S(t,e){1&t&&(n.Ub(0,"div"),n.rc(1,"filling priority is required!"),n.Tb())}function j(t,e){if(1&t&&(n.Ub(0,"div",26),n.qc(1,S,2,0,"div",27),n.Tb()),2&t){const t=n.fc();n.Fb(1),n.jc("ngIf",t.priority.errors.required)}}function w(t,e){if(1&t&&(n.Ub(0,"option",28),n.rc(1),n.Tb()),2&t){const t=e.$implicit;n.jc("ngValue",t.email),n.Fb(1),n.sc(t.username)}}function P(t,e){1&t&&(n.Ub(0,"div"),n.rc(1,"Assignee is required!"),n.Tb())}function x(t,e){if(1&t&&(n.Ub(0,"div",26),n.qc(1,P,2,0,"div",27),n.Tb()),2&t){const t=n.fc();n.Fb(1),n.jc("ngIf",t.assignee.errors.required)}}function C(t,e){if(1&t&&(n.Ub(0,"option",28),n.rc(1),n.Tb()),2&t){const t=e.$implicit;n.jc("ngValue",t.id),n.Fb(1),n.sc(t.projectName)}}function q(t,e){1&t&&(n.Ub(0,"div"),n.rc(1,"project is required!"),n.Tb())}function M(t,e){if(1&t&&(n.Ub(0,"div",26),n.qc(1,q,2,0,"div",27),n.Tb()),2&t){const t=n.fc();n.Fb(1),n.jc("ngIf",t.project.errors.required)}}let I=(()=>{class t{constructor(t,e,i,r,c,n){this.fb=t,this.router=e,this.route=i,this.ticketService=r,this.userService=c,this.projectService=n,this.editMode=!1,this.fileToUpload=null,this.usersList=[],this.formData=new FormData,this.projectList=[],this.statusList=[{name:"open",value:"Open"},{name:"In progress",value:"InProgress"},{name:"reopened",value:"Reopened"},{name:"resolved",value:"Resolved"},{name:"closed",value:"Closed"}],this.priorityList=[{name:"low",value:"LOW"},{name:"meduim",value:"MEDIUM"},{name:"high",value:"HIGH"}]}ngOnInit(){this.route.params.subscribe(t=>{this.id=+t.id,this.editMode=null!=t.id,this.pagetitle=this.editMode?"Edit Ticket":"Add Ticket",this.initForm()}),this.getUsers(),this.getProjects()}initForm(){this.bug=this.fb.group({title:["",l.s.required],bugDescription:[""],resolutionSummary:[""],createdDate:[""],status:["",l.s.required],priority:["",l.s.required],assignee:this.fb.group({email:["",l.s.required]}),project:this.fb.group({id:["",l.s.required]}),file:this.fb.group({id:[""]})}),this.editMode&&this.ticketService.getTicket(this.id).subscribe(t=>{this.bug=this.fb.group({id:[t.id],title:[t.title,l.s.required],bugDescription:[t.bugDescription],resolutionSummary:[t.resolutionSummary],createdDate:[t.createdDate],status:[t.status,l.s.required],priority:[t.priority,l.s.required],assignee:this.fb.group({email:[t.assignee.email,l.s.required]}),project:this.fb.group({id:[t.project.id,l.s.required]}),file:this.fb.group({id:[""]})})})}get title(){return this.bug.get("title")}get status(){return this.bug.get("status")}get priority(){return this.bug.get("priority")}get assignee(){return this.bug.get("assignee").get("email")}get project(){return this.bug.get("project").get("id")}getUsers(){this.userService.getUsers().then(t=>{this.usersList=t})}getProjects(){this.projectService.getProjects().subscribe(t=>{this.projectList=t})}onCancel(){this.router.navigate(["/tickets"])}handleFileInput(t){this.fileToUpload=t.item(0),this.formData.append("file",this.fileToUpload)}onSubmit(){this.editMode?this.ticketService.updateTicket(this.bug.value).subscribe(t=>{this.router.navigate(["/tickets"])}):(this.formData&&this.ticketService.uploadFile(this.formData).then(t=>{}),this.ticketService.createTicket(this.bug.value).subscribe(t=>{this.router.navigate(["/tickets"])}))}}return t.\u0275fac=function(e){return new(e||t)(n.Pb(l.d),n.Pb(c.b),n.Pb(c.a),n.Pb(u),n.Pb(m.a),n.Pb(f.a))},t.\u0275cmp=n.Jb({type:t,selectors:[["app-ticket-edit"]],decls:52,vars:13,consts:[[1,"container"],[1,"text-center"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","title"],["type","text","formControlName","title","placeholder","title","name","title","id","title","required","",1,"form-control"],["class","alert alert-danger",4,"ngIf"],["for","bugDescription"],["type","description","formControlName","bugDescription","placeholder","description","name","bugDescription","id","bugDescription",1,"form-control"],["for","resolutionSummary"],["type","description","formControlName","resolutionSummary","placeholder","resolution Summary","name","resolutionSummary","id","resolutionSummary",1,"form-control"],["for","status"],["id","inputState","formControlName","status",1,"form-control","show-tick"],[3,"ngValue",4,"ngFor","ngForOf"],["for","priority"],["id","priority","formControlName","priority",1,"form-control","show-tick"],["formGroupName","assignee",1,"form-group"],["for","Assignee"],["id","Assignee","formControlName","email","required","",1,"form-control","show-tick"],["formGroupName","project",1,"form-group"],["for","project"],["id","project","formControlName","id","required","",1,"form-control","show-tick"],["for","file"],["type","file","id","file",3,"change"],[1,"btn","btn-danger",3,"click"],[1,"btn","btn-success",3,"disabled"],[1,"alert","alert-danger"],[4,"ngIf"],[3,"ngValue"]],template:function(t,e){1&t&&(n.Ub(0,"div",0),n.Ub(1,"h4",1),n.rc(2),n.Tb(),n.Ub(3,"form",2),n.bc("ngSubmit",(function(){return e.onSubmit()})),n.Ub(4,"div",3),n.Ub(5,"label",4),n.rc(6,"Bug title"),n.Tb(),n.Qb(7,"input",5),n.qc(8,U,2,1,"div",6),n.Tb(),n.Ub(9,"div",3),n.Ub(10,"label",7),n.rc(11,"Bug description"),n.Tb(),n.Ub(12,"textarea",8),n.rc(13," "),n.Tb(),n.Tb(),n.Ub(14,"div",3),n.Ub(15,"label",9),n.rc(16,"Resolution Summary"),n.Tb(),n.Ub(17,"textarea",10),n.rc(18," "),n.Tb(),n.Tb(),n.Ub(19,"div",3),n.Ub(20,"label",11),n.rc(21,"Status"),n.Tb(),n.Ub(22,"select",12),n.qc(23,v,2,2,"option",13),n.Tb(),n.qc(24,y,2,1,"div",6),n.Tb(),n.Ub(25,"div",3),n.Ub(26,"label",14),n.rc(27,"Priority"),n.Tb(),n.Ub(28,"select",15),n.qc(29,F,2,2,"option",13),n.Tb(),n.qc(30,j,2,1,"div",6),n.Tb(),n.Ub(31,"div",16),n.Ub(32,"label",17),n.rc(33,"Assignee"),n.Tb(),n.Ub(34,"select",18),n.qc(35,w,2,2,"option",13),n.Tb(),n.qc(36,x,2,1,"div",6),n.Tb(),n.Ub(37,"div",19),n.Ub(38,"label",20),n.rc(39,"project"),n.Tb(),n.Ub(40,"select",21),n.qc(41,C,2,2,"option",13),n.Tb(),n.qc(42,M,2,1,"div",6),n.Tb(),n.Ub(43,"div",3),n.Ub(44,"label",22),n.rc(45,"Choose File"),n.Tb(),n.Qb(46,"div"),n.Ub(47,"input",23),n.bc("change",(function(t){return e.handleFileInput(t.target.files)})),n.Tb(),n.Tb(),n.Ub(48,"button",24),n.bc("click",(function(){return e.onCancel()})),n.rc(49,"Cancel"),n.Tb(),n.Ub(50,"button",25),n.rc(51),n.Tb(),n.Tb(),n.Tb()),2&t&&(n.Fb(2),n.tc(" ",e.pagetitle," "),n.Fb(1),n.jc("formGroup",e.bug),n.Fb(5),n.jc("ngIf",e.title.touched&&e.title.invalid),n.Fb(15),n.jc("ngForOf",e.statusList),n.Fb(1),n.jc("ngIf",e.status.touched&&e.status.invalid),n.Fb(5),n.jc("ngForOf",e.priorityList),n.Fb(1),n.jc("ngIf",e.priority.touched&&e.priority.invalid),n.Fb(5),n.jc("ngForOf",e.usersList),n.Fb(1),n.jc("ngIf",e.assignee.touched&&e.assignee.invalid),n.Fb(5),n.jc("ngForOf",e.projectList),n.Fb(1),n.jc("ngIf",e.project.touched&&e.project.invalid),n.Fb(8),n.jc("disabled",!e.bug.valid),n.Fb(1),n.sc(e.editMode?"Edit":"Add"))},directives:[l.u,l.l,l.h,l.a,l.k,l.f,l.p,r.l,l.q,r.k,l.i,l.n,l.t],styles:[".container[_ngcontent-%COMP%]{margin-top:50px}.btn-danger[_ngcontent-%COMP%]{width:100px;margin-right:10px}.btn-success[_ngcontent-%COMP%]{width:100px}"]}),t})();class D{}class O{}class A{constructor(){this.assignee=new O,this.assigner=new O,this.project=new D}}function z(t,e){if(1&t){const t=n.Vb();n.Ub(0,"div"),n.Ub(1,"div",13),n.Ub(2,"div",5),n.Ub(3,"h5",14),n.rc(4),n.Tb(),n.Ub(5,"p",15),n.rc(6),n.Tb(),n.Ub(7,"p",15),n.Ub(8,"small",16),n.rc(9),n.gc(10,"date"),n.Tb(),n.Tb(),n.Ub(11,"button",17),n.bc("click",(function(){n.nc(t);const i=e.$implicit;return n.fc().deleteComment(i.id)})),n.rc(12," delete "),n.Tb(),n.Tb(),n.Tb(),n.Tb()}if(2&t){const t=e.$implicit;n.Fb(4),n.sc(t.commenter.username),n.Fb(2),n.sc(t.message),n.Fb(3),n.tc("created at ",n.ic(10,3,t.createdAt,"dd/MM/yyyy")," ")}}const L=[{path:"",component:s,children:[{path:"",component:h},{path:":id/edit",component:I},{path:"new",component:I},{path:":id",component:(()=>{class t{constructor(t,e,i){this.fb=t,this.route=e,this.ticketService=i,this.comments=[],this.bug=new A}ngOnInit(){this.route.params.subscribe(t=>{this.id=+t.id,this.ticketService.getTicket(this.id).subscribe(t=>{this.bug=t}),this.getComments()}),this.comment=this.fb.group({bug:this.fb.group({id:[this.id,l.s.required]}),message:[""]})}getComments(){this.ticketService.getCommentList().subscribe(t=>{this.comments=t})}deleteComment(t){this.ticketService.deleteComment(t).subscribe(t=>{this.getComments()})}onSubmit(){this.ticketService.addComment(this.comment.value).subscribe(t=>{this.comment.get("message").reset(),this.getComments()})}}return t.\u0275fac=function(e){return new(e||t)(n.Pb(l.d),n.Pb(c.a),n.Pb(u))},t.\u0275cmp=n.Jb({type:t,selectors:[["app-ticket-details"]],decls:61,vars:13,consts:[[1,"container","center-block"],[1,"row"],[1,"col-md-6"],[1,"card","text-center",2,"max-width","100rem","margin-top","50px"],[1,"card-header","text-center"],[1,"card-body"],[1,"form-row"],[1,"col-md-4","mb-3"],[1,"form-group",2,"max-width","100rem","margin-top","50px",3,"formGroup","ngSubmit"],["for","comment"],["type","description","formControlName","message","placeholder","description","name","comment","id","comment",1,"form-control"],["type","submit",1,"btn","btn-success",2,"margin-top","5px",3,"click"],[4,"ngFor","ngForOf"],[1,"card",2,"width","18rem","margin-top","10px"],[1,"card-title"],[1,"card-text"],[1,"text-muted"],[1,"btn","btn-danger",3,"click"]],template:function(t,e){1&t&&(n.Ub(0,"div",0),n.Ub(1,"div",1),n.Ub(2,"div",2),n.Ub(3,"div",3),n.Ub(4,"div",4),n.rc(5," Ticket Details"),n.Tb(),n.Ub(6,"div",5),n.Ub(7,"div",6),n.Ub(8,"div",7),n.Ub(9,"h6"),n.rc(10,"Title"),n.Tb(),n.Ub(11,"p"),n.rc(12),n.Tb(),n.Tb(),n.Ub(13,"div",7),n.Ub(14,"h6"),n.rc(15,"Created Date"),n.Tb(),n.Ub(16,"p"),n.rc(17),n.gc(18,"date"),n.Tb(),n.Tb(),n.Tb(),n.Ub(19,"div",6),n.Ub(20,"div",7),n.Ub(21,"h6"),n.rc(22,"Priority"),n.Tb(),n.Ub(23,"p"),n.rc(24),n.Tb(),n.Tb(),n.Ub(25,"div",7),n.Ub(26,"h6"),n.rc(27,"BugDescription"),n.Tb(),n.Ub(28,"p"),n.rc(29),n.Tb(),n.Tb(),n.Tb(),n.Ub(30,"div",6),n.Ub(31,"div",7),n.Ub(32,"h6"),n.rc(33,"Assignee"),n.Tb(),n.Ub(34,"p"),n.rc(35),n.Tb(),n.Tb(),n.Ub(36,"div",7),n.Ub(37,"h6"),n.rc(38,"Assigner"),n.Tb(),n.Ub(39,"p"),n.rc(40),n.Tb(),n.Tb(),n.Tb(),n.Ub(41,"div",6),n.Ub(42,"div",7),n.Ub(43,"h6"),n.rc(44,"Project"),n.Tb(),n.Ub(45,"p"),n.rc(46),n.Tb(),n.Tb(),n.Ub(47,"div",7),n.Ub(48,"h6"),n.rc(49," Resolution Summary"),n.Tb(),n.Ub(50,"p"),n.rc(51),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Ub(52,"div",2),n.Ub(53,"div",8),n.bc("ngSubmit",(function(){return e.onSubmit()})),n.Ub(54,"label",9),n.rc(55,"Add a comment"),n.Tb(),n.Ub(56,"textarea",10),n.rc(57," "),n.Tb(),n.Ub(58,"button",11),n.bc("click",(function(){return e.onSubmit()})),n.rc(59," Add "),n.Tb(),n.Tb(),n.qc(60,z,13,6,"div",12),n.Tb(),n.Tb(),n.Tb()),2&t&&(n.Fb(12),n.tc(" ",e.bug.title," "),n.Fb(5),n.tc(" ",n.ic(18,10,e.bug.createdDate,"dd/MM/yyyy")," "),n.Fb(7),n.tc(" ",e.bug.priority," "),n.Fb(5),n.tc(" ",e.bug.bugDescription," "),n.Fb(6),n.tc(" ",e.bug.assignee.username," "),n.Fb(5),n.tc(" ",e.bug.assigner.username," "),n.Fb(6),n.tc(" ",e.bug.project.projectName," "),n.Fb(5),n.tc(" ",e.bug.resolutionSummary," "),n.Fb(2),n.jc("formGroup",e.comment),n.Fb(7),n.jc("ngForOf",e.comments))},directives:[l.l,l.h,l.a,l.k,l.f,r.k],pipes:[r.d],styles:[""]}),t})()}]}];let N=(()=>{class t{}return t.\u0275mod=n.Nb({type:t}),t.\u0275inj=n.Mb({factory:function(e){return new(e||t)},imports:[[c.e.forChild(L)],c.e]}),t})(),V=(()=>{class t{}return t.\u0275mod=n.Nb({type:t}),t.\u0275inj=n.Mb({factory:function(e){return new(e||t)},imports:[[r.b,l.j,c.e,l.o,N]]}),t})()}}]);